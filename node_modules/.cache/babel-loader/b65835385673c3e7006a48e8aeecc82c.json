{"ast":null,"code":"var _jsxFileName = \"/home/sagar/reactProjects/searchbar/src/components/pages/SearchPage.js\";\nimport React, { Component } from 'react';\nimport DisplaySuggestions from '../../../public/resources';\nimport '../SearchBox.scss';\nimport { Redirect } from 'react-router-dom';\nexport default class SearchPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      patients: [],\n      patientSearchResult: [],\n      redirect: false,\n      displaySuggestions: false\n    };\n\n    this.onChange = e => {\n      const searchTerm = e.target.value;\n      this.searchPatients(searchTerm);\n    };\n\n    this.searchPatients = searchTerm => {\n      const patients = this.state.patients;\n      const pattern = \"[A-Za-z.s]*\".concat(searchTerm, \"[A-Za-z.s]*\");\n      const matchRegex = new RegExp(pattern);\n      const patientSearchResult = patients.filter(item => matchRegex.test(item.name.toLowerCase()));\n      this.setState({\n        patientSearchResult\n      });\n    };\n\n    this.onInput = e => {\n      if (e.target.value !== \"\") this.showSuggestions();else this.hideSuggestions();\n    };\n\n    this.showSuggestions = () => {\n      this.setState({\n        displaySuggestions: true\n      });\n    };\n\n    this.hideSuggestions = () => {\n      this.setState({\n        displaySuggestions: false\n      });\n    };\n  }\n\n  async fetchData() {\n    const patients = await fetch('../../../public/resources/patient.json').catch(err => console.log(err));\n    this.setState({\n      patients: (await patients.json()).patients\n    });\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  render() {\n    const _this$state = this.state,\n          displaySuggestions = _this$state.displaySuggestions,\n          patientSearchResult = _this$state.patientSearchResult;\n    /*if(this.state.redirect === true){\n        return <Redirect to='/doctorDashboard' />\n    }*/\n\n    return React.createElement(\"div\", {\n      className: \"search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"search-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"search-txt\",\n      type: \"text\",\n      placeholder: \"You are in doctor's search page\",\n      name: \"text\",\n      value: this.state.text,\n      onInput: this.onInput,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(DisplaySuggestions, {\n      suggestions: patientSearchResult,\n      displaySuggestions: displaySuggestions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/sagar/reactProjects/searchbar/src/components/pages/SearchPage.js"],"names":["React","Component","DisplaySuggestions","Redirect","SearchPage","state","patients","patientSearchResult","redirect","displaySuggestions","onChange","e","searchTerm","target","value","searchPatients","pattern","matchRegex","RegExp","filter","item","test","name","toLowerCase","setState","onInput","showSuggestions","hideSuggestions","fetchData","fetch","catch","err","console","log","json","componentDidMount","render","text"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport DisplaySuggestions from '../../../public/resources';\nimport '../SearchBox.scss';\n\n\nimport {Redirect} from 'react-router-dom';\n\n\nexport default class SearchPage extends Component {\n\n    state ={\n        patients:[],\n        patientSearchResult:[],\n        redirect:false,\n        displaySuggestions:false\n    }\n\n    async fetchData (){\n        const patients = await fetch('../../../public/resources/patient.json').catch(\n            err =>console.log(err)\n        )\n        this.setState({patients:(await patients.json()).patients});\n    }\n\n    componentDidMount(){\n        this.fetchData();\n    }\n\n    onChange = (e) => {\n\n        const searchTerm = e.target.value;\n        this.searchPatients(searchTerm);\n    }\n\n    searchPatients = (searchTerm) => {\n\n        const {patients} = this.state;\n\n        const pattern = `[A-Za-z.\\s]*${searchTerm}[A-Za-z.\\s]*`;\n\n        const matchRegex = new RegExp(pattern);\n\n        const patientSearchResult = patients.filter(item => \n            matchRegex.test(item.name.toLowerCase())\n        );\n\n        this.setState({patientSearchResult})\n    }\n\n  \n    /*onSubmit = (e) => {\n        \n        e.preventDefault();\n        this.setState({\n            redirect : true\n        })\n        }*/       \n\n    onInput = (e) => {\n        if(e.target.value !== \"\") this.showSuggestions();\n        else this.hideSuggestions();\n    }\n\n    showSuggestions = () => {\n        this.setState({\n            displaySuggestions: true\n        })\n    }\n\n    hideSuggestions = () => {\n        this.setState({\n            displaySuggestions :false\n        })\n    }\n\n    render() {\n        const {displaySuggestions , patientSearchResult} = this.state;     \n\n        /*if(this.state.redirect === true){\n            return <Redirect to='/doctorDashboard' />\n        }*/\n        return (\n            <div className = \"search\">\n                <div className=\"search-container\">\n                    <input className =\"search-txt\"\n                     type =\"text\"\n                     placeholder=\"You are in doctor's search page\"\n                     name =\"text\"\n                     value ={this.state.text}\n                     onInput ={this.onInput}\n                     onChange ={this.onChange} />\n\n                     <DisplaySuggestions \n                        suggestions={patientSearchResult}\n                        displaySuggestions ={displaySuggestions}\n                    />                    \n             \n                </div>\n            </div>\n\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}